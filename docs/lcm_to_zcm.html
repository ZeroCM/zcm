
<!DOCTYPE html>
<html lang='en-us'>
  <head>
    <meta charset='UTF-8'>
    <title>lcm_to_zcm</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' href='../stylesheets/normalize.css' media='screen'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel='stylesheet' type='text/css' href='../stylesheets/stylesheet.css' media='screen'>
    <link rel='stylesheet' type='text/css' href='../stylesheets/github-light.css' media='screen'>
  </head>
  <body>
    <section class='page-header'>
      <section style='cursor:pointer' onclick='window.location="../index.html";'>
        <h1 class='project-name'>Zcm</h1>
        <h2 class='project-tagline'>Zero Communications and Marshalling</h2>
      </section>
      <a href='https://github.com/ZeroCM/zcm' class='btn'>View on GitHub</a>
      <a href='http://ci.zcm-project.org' class='btn'>Monitor Builds</a>
      <a href='https://gitter.im/ZeroCM/zcm' class='btn'>Chat with the team</a>
      <a href='https://groups.google.com/forum/#!forum/zcm-users' class='btn'>Ask a Question</a>
      <a href='https://github.com/ZeroCM/zcm/zipball/master' class='btn'>Download .zip</a>
      <a href='https://github.com/ZeroCM/zcm/tarball/master' class='btn'>Download .tar.gz</a>
    </section>

    <section class='main-content'>
<p><a style="margin-right: 1rem;" href="javascript:history.go(-1)">Back</a>
<a href="../index.html">Home</a></p>

<h1>From LCM to ZCM</h1>

<p>This page is for introducing LCM users to the unique differences of ZCM. Here, we intend
to highlight strengths and weaknesses between the two, as well as tips and advice for
moving to ZCM</p>

<h2>Origin and Philosophy</h2>

<p>ZCM grew out of frustration with LCM's strict union with the UDP Multicast transport.
While we were thrilled by the LCM message type system, we found the underlying transport
to be a constant headache in some applications we wished to develop.</p>

<p>In particular, we encountered:</p>

<ul>
<li>Poor performance for inter-process message-passing</li>
<li>Poor support for embedded-system comms</li>
</ul>

<p>We dreamed of being able to uses LCM Types everywhere. Theoretically, we could use
the same type specification for messaging in countless contexts, including:</p>

<ul>
<li>Inter-thread (shared-memory)</li>
<li>Inter-process (Unix Domain Sockets and shared-memory)</li>
<li>Inter-cluster (LCM-style UDPM)</li>
<li>Wide-Area Network Distributed System (TCP)</li>
<li>Embedded system interfaces (UART, I2C, USB, UDP, etc)</li>
<li>Client-side web-browser (WebSockets and Javascript)</li>
</ul>

<p>For this, we created the ZCM project. Our goal is to connect all of these messaging
granularities with simple and easy-to-use APIs. We want to be able to define
a single ZCM message type and send and receive it anywhere.</p>

<h2>Core Differences</h2>

<p>The ZCM project began by forking the LCM codebase and performing many strategic improvements:</p>

<ul>
<li>Removing the dependency on GLib</li>
<li>Porting the core libraries to C++11</li>
</ul>

<p>Our primary goal for v1.0 is to retain API compatibility with LCM, while providing a new
custom transport layer. Thus, despite being implemented in C++11, the ZCM C APIs are
identical to LCM. We have strived to retain as much API compatibility as possible for
our intial release.</p>

<h2>New Features with ZCM</h2>

<h3>ZCM Transport Layer</h3>

<p>ZCM has many benefits over LCM, as noted above, but its primary boon is the addition
of the new custom transport system. ZCM allows end-users to implement and register
custom transports. As long as a new transport conforms to the rigorously-defined
transport API, the custom transport will work flawlessly. To learn more, check out
the page on <a href="transports.html">Transport Layer</a>.</p>

<h3>ZCM Embedded-System Support</h3>

<p>ZCM is designed with embedded applications in mind. The custom transport layer (see above),
has a special non-blocking transport API designed fine-tuned for embedded uses. In addition,
the ZCM non-blocking core library is restricted to "on-the-metal" C89 code. This restriction allows
embedded systems to use ZCM types and ZCM non-blocking code with little or no modifications.
To learn more, check out the page on <a href="embedded.html">Embedded Applications</a>.</p>

<h2>Porting programs to ZCM</h2>

<p>Currently, ZCM is approximately 95% API compatible with LCM. Porting existing Unix-based LCM
programs to ZCM is very easy in many cases. A quick <code>sed -i 's/lcm/zcm/g'</code> works for
most applications. ZCM uses the same binary-compatible formats for UDP Multicast, Logging,
and ZCMType encodings. Thus LCM and ZCM applications can communicate flawlessly. This
allows LCM users to gradually migrate to ZCM.</p>

<h3>Known incompatibilities:</h3>

<ul>
<li><code>zcm_get_fileno()</code> is not supported</li>
<li><code>zcm_handle_timeout()</code> is not supported</li>
<li><code>zcm_subscription_set_queue_capacity</code> is not supported</li>
<li>LCMType-style enums are not supported</li>
<li>The C-based logplayer is not currently supported
<ul>
<li>However, the Java-based logplayer is supported</li>
</ul></li>
<li>Language bindings not currently supported:
<ul>
<li>Python</li>
<li>Lua</li>
<li>C#</li>
</ul></li>
<li>Operating Systems not currently supported
<ul>
<li>Windows</li>
<li>OS X</li>
<li>Non-linux POSIX-1.2001 systems (e.g., Cygwin, Solaris, BSD, etc.)</li>
</ul></li>
</ul>

<h3>Other minor differences</h3>

<ul>
<li>The Java bindings now require JNI</li>
<li>The ZeroMQ library is currently required for the 'ipc' and 'inproc' transports</li>
</ul>

<p><hr>
<a style="margin-right: 1rem;" href="javascript:history.go(-1)">Back</a>
<a href="../index.html">Home</a></p>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-73394372-1', 'auto');
  ga('send', 'pageview');

</script>
</section> </body> </html>
